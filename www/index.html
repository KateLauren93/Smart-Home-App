<!DOCTYPE html>
<html lang="en" dir="ltr">
    <head>
        <meta charset="utf-8">
        <title>Smart Home</title>
        <script src="./js/createjs_1.1_min.js"></script>
        <script src="./js/zim_10.js"></script>
        <script>

        const color = light;
        const outerColor = dark;
        const assets = ["christmas-lights.png", "fan.png", "light-bulb.png", "pool.png", "stereo.png", "volume-up.png", "volume-down.png", "chandelier.png", "backyard.png", "basement.png", "dining.png"];
        const path = "assets/";

        // ZIM way of doing CSS styling
        // STYLE = {
        //     type: {
        //         Label: {
        //             centerReg: true,
        //             valign: "center",
        //             outline: true
        //         }
        //     }
        // }

        const frame = new Frame({color, outerColor, assets, path});
        frame.on("ready", () => {
            zog("Ready from ZIM Frame");

            const stage = frame.stage;
            let stageW = frame.width;
            let stageH = frame.height;

            // Put your code here:

            // ASSETS
            const christmasLights = frame.asset("christmas-lights.png");
            const lightBulb = frame.asset("light-bulb.png");
            const fan = frame.asset("fan.png");
            const stereo = frame.asset("stereo.png");
            const volumeUp = frame.asset("volume-up.png");
            const volumeDown = frame.asset("volume-down.png");
            const chandelier = frame.asset("chandelier.png");

            // BACKYARD
            const backyard = new Container(stageW, stageH);
            // const backyardBack = new Rectangle(stageW, stageH, blue).addTo(backyard);
            const backyardBack = frame.asset("backyard.png").addTo(backyard);
            const backyardTitle = new Label("Backyard", null, null, white).addTo(backyard).pos(50, 50);

            const yardLights = christmasLights.clone().centerReg(backyard).sca(0.15).expand();
            yardLights.id = "48003";
            const label01 = new Label("Yard Lights", null, null, white).centerReg(backyard);

            const poolHouseFanLight = lightBulb.clone().centerReg(backyard).sca(0.15).expand();
            poolHouseFanLight.id = "05 15 92 1";
            const label02 = new Label("Fan Light", null, null, white).centerReg(backyard);

            const poolHouseFan = fan.clone().centerReg(backyard).sca(0.15).expand();
            poolHouseFan.id = "4090";
            const label03 = new Label("Fan", null, null, white).centerReg(backyard);

            const poolHouseLight = lightBulb.clone().centerReg(backyard).sca(0.15).expand();
            poolHouseLight.id = "05 15 D7 1";
            const label04 = new Label("Pool House Lights", null, null, white).centerReg(backyard);

            const poolLight = frame.asset("pool.png").centerReg(backyard).sca(0.15).expand();
            poolLight.id = "10063";
            const label05 = new Label("Pool Lights", null, null, white).centerReg(backyard);

            const backyardArray = [yardLights, poolHouseFanLight, poolHouseFan, poolHouseLight, poolLight];
            for (var i=0; i<backyardArray.length; i++) {
                backyardArray[i].tap(function (e) {
                    if (e.target.alpha == 1) {
                        e.target.animate({props:{scale:0.25}, time:500, loop:true, loopCount:2, rewind:true});
                        e.target.alpha = 0.25;
                        stage.update();
                    } else {
                        e.target.alpha = 1;
                        stage.update();
                    }
                });
            }

            // BASEMENT
            const basement = new Container(stageW, stageH);
            // const basementBack = new Rectangle(stageW, stageH, blue).addTo(basement);
            const basementBack = frame.asset("basement.png").addTo(basement);
            const basementTitle = new Label("Basement", null, null, white).addTo(basement).pos(50, 50);

            const basementAllLights = lightBulb.clone().centerReg(basement).sca(0.15).expand();
            const label06 = new Label("All Lights", null, null, white).centerReg(basement);
            basementAllLights.id = "26239";

            const basementFrontLight = lightBulb.clone().centerReg(basement).sca(0.15).expand();
            const label07 = new Label("Front Lights", null, null, white).centerReg(basement);
            basementFrontLight.id = "5 14 FF 1";

            const basementBackLight = lightBulb.clone().centerReg(basement).sca(0.15).expand();
            const label08 = new Label("Back Lights", null, null, white).centerReg(basement);
            basementBackLight.id = "5 16 6F 1";

            const basementFrontAlcove = lightBulb.clone().centerReg(basement).sca(0.15).expand();
            const label09 = new Label("Front Alcove", null, null, white).centerReg(basement);
            basementFrontAlcove.id = "B A4 4E 1";

            const basementBackAlcove = lightBulb.clone().centerReg(basement).sca(0.15).expand();
            const label10 = new Label("Back Alcove", null, null, white).centerReg(basement);
            basementBackAlcove.id = "B A5 BA 1";

            const basementHallway = lightBulb.clone().centerReg(basement).sca(0.15).expand();
            const label11 = new Label("Hallway Light", null, null, white).centerReg(basement);
            basementHallway.id = "63722";

            const basementArray = [basementAllLights, basementFrontLight, basementBackLight, basementFrontAlcove, basementBackAlcove, basementHallway];
            for (var i=0; i<basementArray.length; i++) {
                basementArray[i].tap(function (e) {
                    if (e.target.alpha == 1) {
                        e.target.animate({props:{scale:0.25}, time:500, loop:true, loopCount:2, rewind:true});
                        e.target.alpha = 0.25;
                        stage.update();
                    } else {
                        e.target.alpha = 1;
                        stage.update();
                    }
                });
            }

            // DINING
            const dining = new Container(stageW, stageH);
            // const diningBack = new Rectangle(stageW, stageH, blue).addTo(dining);
            const diningBack = frame.asset("dining.png").addTo(dining);
            const diningTitle = new Label("Dining", null, null, white).addTo(dining).pos(50, 50);

            const diningChandelier = chandelier.clone().centerReg(dining).sca(0.15).expand();
            const label12 = new Label("Chandelier", null, null, white).centerReg(dining);
            diningChandelier.id = "43 64 3E 1";

            const diningStereo = stereo.clone().centerReg(dining).sca(0.15).expand();
            const label13 = new Label("Stereo", null, null, white).centerReg(dining);
            diningStereo.id = "38737";

            const diningVolumeUp = volumeUp.clone().centerReg(dining).sca(0.15).expand();
            diningVolumeUp.id = "59220";
            const diningVolumeDown = volumeDown.clone().centerReg(dining).sca(0.15).expand();
            diningVolumeDown.id = "28553";
            const label14 = new Label("Volume", null, null, white).centerReg(dining);

            const diningXmasLights = christmasLights.clone().centerReg(dining).sca(0.15).expand();
            const label15 = new Label("Christmas Lights", null, null, white).centerReg(dining);
            diningXmasLights.id = "55587";

            const diningMiddleHallway = lightBulb.clone().centerReg(dining).sca(0.15).expand();
            const label16 = new Label("Middle Hallway", null, null, white).centerReg(dining);
            diningMiddleHallway.id = "30531";

            const diningHallwayChandelier = chandelier.clone().centerReg(dining).sca(0.15).expand();
            const label17 = new Label("Hallway Chandelier", null, null, white).centerReg(dining);
            diningHallwayChandelier.id = "20049";

            const diningArray = [diningChandelier, diningStereo, diningXmasLights, diningMiddleHallway, diningHallwayChandelier];
            for (var i=0; i<diningArray.length; i++) {
                diningArray[i].tap(function (e) {
                    if (e.target.alpha == 1) {
                        e.target.animate({props:{scale:0.25}, time:500, loop:true, loopCount:2, rewind:true});
                        e.target.alpha = 0.25;
                        stage.update();
                    } else {
                        e.target.alpha = 1;
                        stage.update();
                    }
                });
            }
            
            const volumeArray = [diningVolumeUp, diningVolumeDown];
            for (var i=0; i<volumeArray.length; i++) {
                volumeArray[i].tap(function (e) {
                    if (e.target.alpha) {
                        e.target.animate({props:{scale:0.25}, time:500, rewind:true});
                        stage.update();
                    }
                });
            }

            // PAGE CONTROL
            const pages = new Pages([
                {page:backyard, swipe:[dining, basement]},
                {page:basement, swipe:[backyard, dining]},
                {page:dining, swipe:[basement, backyard]}
            ], "slide").addTo();

            // RESPONSIVE
            const factor = 800;
            const marginX = 0.25;
            const spacingX = 0.4;
            const marginY = 0.25;
            const spacingY = 0.13;

            frame.on("resize", () => {
                stageW = frame.width;
                stageH = frame.height;
                // zog(stageW, stageH);
                backyardBack.scaleTo(stage, 100, 100, "both");
                basementBack.scaleTo(stage, 100, 100, "both");
                diningBack.scaleTo(stage, 100, 100, "both");

                // BACKYARD
                // placement of icons
                yardLights.loc(stageW*marginX, stageH*(marginY+spacingY*0));
                poolHouseFanLight.loc(stageW*marginX, stageH*(marginY+spacingY*1));
                poolHouseFan.loc(stageW*marginX, stageH*(marginY+spacingY*2));
                poolHouseLight.loc(stageW*marginX, stageH*(marginY+spacingY*3));
                poolLight.loc(stageW*marginX, stageH*(marginY+spacingY*4));

                // placement and sizing of labels
                label01.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*0));
                label02.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*1));
                label03.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*2));
                label04.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*3));
                label05.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*4));

                // scale the title to 25% the width
	            // position title at 5% margin left and top
                backyardTitle.scaleTo(stage, 25);
                backyardTitle.pos(stageW*.05, stageH*.05);

                // BASEMENT
                // placement of icons
                basementAllLights.loc(stageW*marginX, stageH*(marginY+spacingY*0));
                basementFrontLight.loc(stageW*marginX, stageH*(marginY+spacingY*1));
                basementBackLight.loc(stageW*marginX, stageH*(marginY+spacingY*2));
                basementFrontAlcove.loc(stageW*marginX, stageH*(marginY+spacingY*3));
                basementBackAlcove.loc(stageW*marginX, stageH*(marginY+spacingY*4));
                basementHallway.loc(stageW*marginX, stageH*(marginY+spacingY*5));

                // placement and sizing of labels
                label06.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*0));
                label07.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*1));
                label08.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*2));
                label09.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*3));
                label10.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*4));
                label11.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*5));

                // scale the title to 25% the width
				// position title at 5% margin left and top
                basementTitle.scaleTo(stage, 25);
                basementTitle.pos(stageW*.05, stageH*.05);

                // DINING
                // placement of icons
                diningChandelier.loc(stageW*marginX, stageH*(marginY+spacingY*0));
                diningStereo.loc(stageW*marginX, stageH*(marginY+spacingY*1));
                diningVolumeUp.loc(stageW*(marginX+0.5), stageH*(marginY+spacingY*2));
                diningVolumeDown.loc(stageW*marginX, stageH*(marginY+spacingY*2));
                diningXmasLights.loc(stageW*marginX, stageH*(marginY+spacingY*3));
                diningMiddleHallway.loc(stageW*marginX, stageH*(marginY+spacingY*4));
                diningHallwayChandelier.loc(stageW*marginX, stageH*(marginY+spacingY*5));

                // placement and sizing of labels
                label12.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*0));
                label13.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*1));
                label14.sca(stageW/factor).loc(stageW*(marginX+0.25), stageH*(marginY+spacingY*2));
                label15.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*3));
                label16.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*4));
                label17.sca(stageW/factor).loc(stageW*(marginX+spacingX), stageH*(marginY+spacingY*5));

                // scale the title to 25% the width
				// position title at 5% margin left and top
                diningTitle.scaleTo(stage, 25);
                diningTitle.pos(stageW*.05, stageH*.05);

                pages.resize();
                stage.update();
            });

            stage.update();

        });

        </script>

        <meta name="viewport" content="width=device-width, user-scalable=no" />
    </head>
    <body>

    </body>
</html>
